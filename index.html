<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tugas 7.2</title>
  </head>
  <style>
    body{
        background-color: rgb(9, 1, 101);
    }
    table tr td, th{
        padding: 10px;
    }
    input{
        padding-left: 5px;
    }
    input[type="checkbox"]{
        margin-right: 10px;
    }
    input[type="button"],input[type="reset"]{
        margin: 0px 20px;
        padding: 7px 15px 7px 15px;
        background-color: blueviolet;
        border: none;
        border-radius: 5px;
    }
    table{
        border: 2px solid red;
    }
  </style>
  <body>
    <center>
      <h1>PROGRAM PENJUALAN BARANG</h1>
	<hr>
	<table>
    <tr>
      <th>Nama Barang</th>
      <th>Jumlah Beli</th>
      <th>Harga</th>
    </tr>
    <tr>
      <td><input type="checkbox" id="handphone" onchange="calculateTotal()"/>Handphone</td>
      <td><input type="number" id="handphoneQuantity" onchange="calculateTotal()" min="0"/></td>
      <td id="handphonePrice"></td>
    </tr>
    <tr>
      <td><input type="checkbox" id="laptop" onchange="calculateTotal()"/>Laptop</td>
      <td><input type="number" id="laptopQuantity" onchange="calculateTotal()" min="0"/></td>
      <td id="laptopPrice"></td>
    </tr>
    <tr>
      <td><input type="checkbox" id="komputer" onchange="calculateTotal()"/>Komputer</td>
      <td><input type="number" id="komputerQuantity" onchange="calculateTotal()" min="0"/></td>
      <td id="komputerPrice"></td>
    </tr>
  </table>
  <br>
  <p>Total Harga : <span id="totalPrice"></span></p>
  <button onclick="reset()">Reset</button>
  <button onclick="process()">Process</button>


    <script>
      const handphonePrice = 1200000;
      const laptopPrice = 500000;
      const komputerPrice = 3000000;

      function formatRupiah(amount) {
        return amount.toLocaleString("id-ID", {
          style: "currency",
          currency: "IDR",
          minimumFractionDigits: 0,
        });
      }

      function calculateTotal() {
        let handphoneQuantity = document.getElementById("handphoneQuantity").value;
        let laptopQuantity = document.getElementById("laptopQuantity").value;
        let komputerQuantity = document.getElementById("komputerQuantity").value;

        let totalPrice = 0;

        if (document.getElementById("handphone").checked) {
          let handphoneTotalPrice = handphoneQuantity * handphonePrice;
          document.getElementById("handphonePrice").innerHTML = formatRupiah(handphoneTotalPrice);
          totalPrice += handphoneTotalPrice;
        } else {
          document.getElementById("handphonePrice").innerHTML = "";
        }

        if (document.getElementById("laptop").checked) {
          let laptopTotalPrice = laptopQuantity * laptopPrice;
          document.getElementById("laptopPrice").innerHTML = formatRupiah(laptopTotalPrice);
          totalPrice += laptopTotalPrice;
        } else {
          document.getElementById("laptopPrice").innerHTML = "";
        }

        if (document.getElementById("komputer").checked) {
          let komputerTotalPrice = komputerQuantity * komputerPrice;
          document.getElementById("komputerPrice").innerHTML = formatRupiah(komputerTotalPrice);
          totalPrice += komputerTotalPrice;
        } else {
          document.getElementById("komputerPrice").innerHTML = "";
        }

        document.getElementById("totalPrice").innerHTML = formatRupiah(totalPrice);
      }

      function reset() {
        document.getElementById("handphoneQuantity").value = "";
        document.getElementById("laptopQuantity").value = "";
        document.getElementById("komputerQuantity").value = "";
        document.getElementById("handphonePrice").innerHTML = "";
        document.getElementById("laptopPrice").innerHTML = "";
        document.getElementById("komputerPrice").innerHTML = "";
        document.getElementById("totalPrice").innerHTML = "";
        document.getElementById("handphone").checked = false;
        document.getElementById("laptop").checked = false;
        document.getElementById("komputer").checked = false;
      }

      function process() {
        let handphoneQuantity = document.getElementById("handphoneQuantity").value;
        let laptopQuantity = document.getElementById("laptopQuantity").value;
        let komputerQuantity = document.getElementById("komputerQuantity").value;

        let totalPrice = handphoneQuantity * handphonePrice +
          laptopQuantity * laptopPrice +
          komputerQuantity * komputerPrice;

        document.getElementById("totalPrice").innerHTML = formatRupiah(totalPrice);
      }

      document.getElementById("handphone").onchange = calculateTotal;
      document.getElementById("laptop").onchange = calculateTotal;
      document.getElementById("komputer").onchange = calculateTotal;
      document.getElementById("processBtn").onclick = process;
      document.getElementById("resetBtn").onclick = reset;

    </script>
  </body>
</html>
